---
title: 'Describing patterns, answering questions'
author: 'Ben Whalley, Paul Sharpe, Sonja Heintz'
# date: "April 2021"
bibliography: [references.bib]
csl: apa.csl
#biblio-style: apa6
link-citations: yes
output:
  webex::html_clean
---

```{r, include=F, echo=F}
source('_first_chunk.R')
```



```{html, child="bs-tab-fix.html"}
```


```{css, child="video.css"}
```


![](images/spotpatterns.png)


# Overview

### Techniques covered

- [Central tendency and spread](#centralspread)
- [The *frequency* of responses](#responsefrequency)
- [Relationships](#relationships)

```{r, echo=F}
video_data <- list(identifier = "describe-overview", showcode = F,
yt_id="DNla39W33II")
# makermds(video_data)
```

```{r child = '_content/_video_tabs.rmd'}
```



# Central tendency and spread{#centralspread}

```{r, echo=F}
video_data <- list(identifier = "describe-centrantend", yt_id="6ubOM1xekQk")
# makermds(video_data)
```

```{r child = '_content/_video_tabs.rmd'}
```

:::{#ex1 .exercise}

<!-- REMEMBER TO UPDATE THE WORKBOOK IF YOU TOUCH THIS !!! -->

**Exercise 1**

1. Open `session-4.rmd` using the **Files** pane. This is the workbook you will be using in this session.
1. Use `group_by()` and `summarise()` with the built-in `iris` dataset to calculate the mean `Sepal.Width` for each `Species` of flower.
1. Make a boxplot that shows the sepal width for each species of flower.

These are the correct numbers to check your work against:

```{r, echo=F, include=T}
iris %>%
  group_by(Species) %>%
  summarise(`Mean sepal width` =  sprintf("%.1f", mean(Sepal.Width) )) %>%
  pander()
```

Your plot should look like this:

```{r, echo=F, include=T}
iris %>%
  ggplot(aes(Species, Sepal.Width)) +
  geom_boxplot()
```
:::


:::{.exercise}
**Exercise 2**

In the video you saw how to use `mutate()` to create a new column which is the difference between values in two other columns.

1. Using the `funimagery` dataset, create a column representing weight lost between end of treatment (`kg2`) and at the end of followup (`kg3`)
2. Make a boxplot of this new column

Your plot should look like this:

```{r, echo=FALSE}
funimagery.edited <- funimagery %>%
  mutate(weight_lost_trt_followup = kg3 - kg2)

funimagery.edited %>%
  ggplot(aes(intervention, weight_lost_trt_followup)) +
  geom_boxplot()
```

:::


# The *frequency* of responses{#responsefrequency}


```{r, echo=F}
video_data <- list(identifier = "describe-frequency", yt_id = "XB-b454apj4")
# makermds(video_data)
```

```{r child = '_content/_video_tabs.rmd'}
```


:::{.exercise}

- Use the `funimagery` data.
- Use `count()` to count how many participants there were in each intervention group
- How many men were in the FIT group?


<!-- funimagery %>% count(intervention, gender) -->

:::




# Relationships{#relationships}

```{r, echo=F}
video_data <- list(identifier = "describe-relationships", yt_id="PGV-MZlCoOc")
# makermds(video_data)
```

```{r child = '_content/_video_tabs.rmd'}
```



:::{.exercise}

- Remember to load the `corrr` package (use the `library` function)
- Use the `fuel` dataset from the `psydata` package
- What is the correlation between `power` and `engine_size`?

:::





:::{.exercise}

It's helpful to get a feel for what the data would look like for different correlation coefficients.
<http://guessthecorrelation.com> is a game designed to help with this.

- The game shows you a scatterplot; your job is to guess the correlation coefficient.
- Try and get to about 30 points without losing any lives!  If you like you can get competitive and play a two-player game!

<iframe src="http://guessthecorrelation.com" width=800 height=800></iframe>



:::


# Check your knowledge

Write an answer to each of these questions in the `Check your knowledge` section of your workbook. The answers will be
revealed in Session 5.


TODO XXX


# Extension exercises


```{r, child="_content/extension-exercises-premable.rmd"}
```


:::{.exercise}


Correlations require that there is a *linear relationship* between the two variables. That is, the pattern in a scatterplot should be fair close to a straight line.

- Plot pairs of variables from the `fuel` dataset.
- Which pairs would be NOT be suitable to use to calculate a correlation?

`r hide()`

Engine size and MPG would be one example. There is a curved relationship between them:

```{r, echo=F, warning=F, message=F}
fuel %>% ggplot(aes(engine_size, mpg)) + geom_point() + geom_smooth(method=lm, formula=y~poly(x, 2), se=F)
```

The problem here is that a single straight line isn't appropriate for the data: The slope is
much less steep at the right hand side of the plot, but the correlation doesn't capture that, so
it's not a good statistic to describe the pattern we see here.



`r unhide()`

:::








# References
