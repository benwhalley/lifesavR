In a lot of these workshops we use datasets that are built-in to R, or are part of the `psydata` package.
This is a convenient way to illustrate the points we make.


:::{.direction}

- open and use `glance` on some built-in data like iris, mtcars etc, or `development`, `happy`, from `psydata`

:::


Later, though, you will need to load your own data.

R can read many different file formats, including Excel files (`.xlsx` or `.xls`), and
files generated by other packages like SPSS.

To keep things simple, reproducible and future proof we recommend *comma separated values* (CSV) files,
which have the file extension `.csv`.
(The final 3 or 4 letters of a filename, after the full stop, is called the file extension).  

### Loading CSV data

We can load CSV data using `read_csv()`.

For example, this code reads a dataset (`food_example.csv`) which is already in the same folder as your workbooks.

```{r, eval=FALSE}
food <- read_csv('food_example.csv')
```

[ADD THIS CODE TO A CHUNK; RUN THE CODE]

The data is read into the variable `food` as a `data.frame`.

[SHOW `food` IN THE ENVIRONMENT]

To load other CSV data, there are 3 steps you must follow:

1. Collect or otherwise get hold of the CSV file you want to load
2. Upload it to the RStudio server, in the same place as your R code (`.rmd` file)
3. Use `read_csv()`, and assign the result to a variable with a descriptive name

### Step 1. Collect or get the data

If you are using your own data then you will have collected it using experimental software like OpenSesame, an online
survey tool like SurveyMonkey, or recorded it yourself in a spreadsheet.
In any of these cases, you will need to export the data to a `.csv` file.

You may also be sent CSV data by email, or download it from the web. That's what we'll practice now.

The following URL is for a file called `shootings.csv`.

- [https://benwhalley.github.io/lifesavR/data/shootings.csv](https://benwhalley.github.io/lifesavR/data/shootings.csv)

To save a copy to the computer you are working at, right-click on the link and choose:

- "Save link as..." (Chrome/Firefox/Edge)
- "Download linked file as" (Safari)

Your computer will ask you where you want to save it. For now, you should choose your `Desktop` folder.


:::{.direction}

- demonstrate saving the file at this URL to the user's `Desktop Folder`

:::

### Step 2. Upload data to the RStudio server

In these workshops we are using the RStudio server.

This means R is running on a different computer to the one you are working on, and can't access the files on your
`Desktop`.

We need to upload the `.csv` file to the server before we can load them.

- Go to the **Files** pane in the RStudio interface
- Make sure you can see the `.rmd` workbook files in the **Files** pane. This means you are "in" the same folder as the `.rmd` files (R calls this your *working directory*)
- Press the 'Upload' button
- Click `Choose file` and choose the `.csv` you want to upload from your LOCAL computer. In this example it will be the file `shootings.csv` that you saved to your Desktop folder in Step 1.
- Click **`OK`**


:::{.direction}

- demonstrate all of these steps

:::


Finally, use the **Files** pane to check that `shootings.csv` is in the same directory as `session-2.rmd`.

If you can see both files you are ready to carry on.

### Step 3. Use `read_csv()` and assign the result to a variable

In your workbook file (`session-2.rmd`) create a new code chunk (the keyboard shortcut is `Ctrl (or âŒ˜) + Alt + I`) below
the heading `Loading data from elsewhere`.

Use `read_csv()` to load the file, like this:

```{r, eval=F}
read_csv('shootings.csv')
```

If you run this line of code you will see the imported data appear below the code chunk.

HOWEVER, you're not quite finished.

R _has_ imported the data, and shown it on screen, but it hasn't --- yet --- stored it anywhere.

To do that we need to assign the result of `read_csv()` to a variable:

```{r, eval=F}
shootings <- read_csv('shootings.csv')
```

### Checking it worked

Now we have assigned the result of `read_csv()` to a variable, we can use this
dataset like any other (including the built-in ones):

```{r}
shootings %>% glimpse()
```

You could also use the **Environment** pane to examine the `shootings` variable if you prefer.


:::{.direction}

- Remind how to use Environment pane

:::
