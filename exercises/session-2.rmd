---
title: "LifesaveR: Session 2"
output: html_document
---

# lifesaveR: Workbook 2

This R Markdown document is your workbook for session two of the lifesaveR module.

# Storing data in variables

The chunk below runs the calculation `40 + 2`, assigns the result to the variable `meaningoflife`, and then prints the
value of the variable.

## Exercise 1

Run this chunk:

```{r, eval=F}
# assign the current year to a variable
current_year <- 2021

# print the variable we created
# (it should display below the chunk, or in the console pane)
current_year

# do a calculation to create a new variable from an existing one
next_year <- current_year + 1
```

## Exercise 2

Create a new chunk containing code which assigns the results of the calculation `2 * 35` to the variable `seventy`.

## Exercise 3

Create a chunk which calculates your age in the year 2051 and assigns the result to a variable _with a descriptive name_.

# Passing data with pipes `%>%`

## Exercise 4

1. Load the `tidyverse` library.
1. Pipe the `fuel` dataset into `head()` and assign the results to a variable called `fuel_head`.
1. Use `fuel_head` to answer the question in the worksheet.

# Loading data from elsewhere

## Exercise 5

1. Upload
[https://benwhalley.github.io/lifesavR/data/world-happiness-report-2021.csv](https://benwhalley.github.io/lifesavR/data/world-happiness-report-2021.csv) to the R Studio server.
1. Create a new chunk which reads `world-happiness-report-2021.csv` into a variable with a descriptive name.
1. Use this variable to answer the question in the worksheet.

# Selecting rows with `filter()`

## Exercise 6

Filter the `development` dataset to show countries with a population greater than 100 million.

## Exercise 7

Show countries with a population greater than 100 million and life expectancy greater than 70.

# Summarising data using `summarise()`

## Exercise 8

1. Copy the code in the worksheet which calculates the median miles per gallon.
1. Paste the code into a new chunk.
1. Amend the code to calculate the median weight.
1. Use the results to answer the question in the worksheet.

## Exercise 9

1. Amend the code in Exercise 8 to also calculate the mean and standard deviation of `weight`.

## Exercise 10

Using the `fuel` dataset, `filter()` and `summarise()`, calculate:

- the mean miles per gallon of cars with engine size > 3000
- the standard deviation of miles per gallon in cars with 6 cylinders

# How to fix code errors

## Exercise 11

1. Select the R Studio menu option `Session > New Session...`
1. Select `Start within: Current Directory` and click **Start** (this will open a new tab)
1. Open your Session 2 workbook in the new tab
1. Correct all of the errors in the chunk below
1. When the code is working, select `Session > Quit Session...`, then close the tab.

```{r}
libary(Tidyverse)
library(psydata

# select cars with less than 8 cylinders
development %>%
  filter(cyl > 8)

# calculate the average life expectancy in Africa
development
  filter(continent = "africa") %>% 
  summarise(average(life_expectancy))

# scatterplot of life expectancy against year with continent in colour
ggplot(aes(year, lifeExp, colour=continent)) %>%
  geom_scatterplot()
```

# Check your knowledge

[Write your answers directly into the workbook here and save it for later]

## What is the `<-` symbol called and what does it do?

## What is the `%>%` symbol called and what does it do?

## Which function would you pipe a dataset into if you wanted to see the first few rows?

## Which function is used to load data from a CSV file?

## What must you do before you can load data on the RStudio server?

## Which function is used to select rows from a dataset?

## How would you select rows where values in a numeric column are between 10 and 20?

## Which function is used to summarise data?

## Which summary function would you use to calculate the mean of a numeric column?

## How would you calculate the median of a subset of rows in a `data.frame`?

# Extension exercises

## Extension exercise 1

## Extension exercise 2
