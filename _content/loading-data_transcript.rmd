In a lot of these workshops we use datasets that are built-in to R, or using the `psydata` package.
This is a convenient way to illustrate the points we make.

[open and glance at some built in data like gapminder, iris, mtcars etc]

Later, though, you will need to load your own data.

R can read many different file formats, including Excel files (`.xlsx` or `.xls`), and
from other packages like SPSS.

To keep things simple, reproducible and future proof we recommend *comma separated values* files,
which have the file extension `.csv`.
(The final 3 or 4 letters of a filename, after the full stop, is called the file extension).  




### Loading csv data

There are 3 steps you must follow:

1. Collect or otherwise get hold of the CSV file you want to load
2. Upload it to the RStudio server, in the same place as your R code (`.rmd` file)
3. Use `read_csv()`. Assign the result to a variable with a descriptive name



##### Step 1. Collect or get the data

If you are using your own data then you will have collected it using Experimental software,
or an online survey tool like SurveyMonkey, or recorded it yourself in a Spreadsheet.
In any of these cases, you will need to export the data to a `.csv` file.

You may also be send CSV data by email, or download it from the web. That's what we'll practice now.

The following URL is for a file called `shootings.csv`.

- [https://benwhalley.github.io/lifesavR/lifesavr/shootings.csv](https://benwhalley.github.io/lifesavR/lifesavr/shootings.csv)

If you click on the link you will see the data in it's raw form, which can be hard to read.

To save a copy to the computer you are working at, right-click on the link and choose:


- "Save link as" (Chrome)
- "Download linked file as" (Safari)
- XXX WHAT DOES FIREFOX SAY?
- XXX EDGE?


Your computer will ask you where you want to save it. For now, you should choose your `Desktop` folder.

[DEMO OF THIS SHOWN IN THE VIDEO]


##### Step 2. Upload data to the RStudio server

In these classes we are using the RStudio server.

This means R is running on a different computer to the one you are working on, and can't access the files on your
`Desktop`.

We need to upload the `.csv` file to the server before we can load them.


- Go to the `Files` pane in the RStudio interface
- Make sure you can see the `.rmd` file you are working on in the Files pane. This means you are "in" the same folder as the `.rmd` (R calles this you *working directory*)
- Press the 'upload' button XXX check wording
- Choose the `.csv` you want to upload from your LOCAL computer (this will be in your Desktop folder if you followed the instructions in part 1)

[DO A DEMO OF THESE STEPS]

Finally, check the files pane again. Make sure you can see `shootings.csv` in the same directory as your `.rmd` file.

If you can see both files you are ready to carry on.



<!--

XXX TODO PAUL - PREV WE SAID THIS BUT I HAVE SWITCHED ABOVE TO RECOMMENDING THEY NAVIGATE TO The
RIGHT PLACE FIRST. I THINK THIS IS MORE INTUITIVE BUT NEED TO CHECK IT WORKS


1. Click the `Upload` button.
1. Ensure the `Target directory` is where you want the uploaded file to appear. For this module it should read `~/lifesavr`. The `~` (pronounced "tilde") means your `Home` directory on the R Studio server. The `/lifesavr` means the folder named `lifesaver` in `Home`.
1. Click the `Choose file` button and select the file you want to upload. After you select a file, its name appears next to the button.
1. Click the `**OK**` button.

-->


##### Step 3. Use `read_csv()` and assign result to a variable

In your `.rmd` file create a new code chunk (the keyboard shortcut is `Ctrl/Cmd + Shift + M`).

Use `read_csv()` to load the file, like this:

```{r, eval=F}
read_csv('shootings.csv')
```

If you run this line of code you will see the imported data appear below the code chunk.

HOWEVER, you're not quite finished.

R _has_ imported the data, and shown it on screen, but it hasn't --- yet --- stored it anywhere.

To do that we need to assign the result of `read_csv()` to a variable:

```{r, eval=F}
shootings <- read_csv('shootings.csv')
```



##### Checking it worked

Now we have assigned the result of `read_csv()` to a variable, we can use this
dataset like any other (including the built-in ones):

```{r}
shootings %>% glimpse
```

You could also use the **Environment** pane to check the data if you prefer.
